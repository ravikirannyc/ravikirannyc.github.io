{"version":3,"sources":["./src/app/main/category/category-list/category-list.component.ts","./src/app/main/category/category-list/category-list.component.html","./src/app/main/category/category-routing.module.ts","./src/app/main/category/category.module.ts","./src/app/shared/utility/utils.service.ts"],"names":[],"mappings":"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","file":"category-category-module-es2015.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Router, ActivatedRoute, Params } from '@angular/router';\r\nimport { AuthenticationService } from 'src/app/shared/core/authentication.service';\r\nimport { ProductService } from 'src/app/shared/core/product.service';\r\nimport { Product } from 'src/app/shared/models/product';\r\nimport UtilsService from 'src/app/shared/utility/utils.service';\r\nimport { Category, CategoryItems } from 'src/app/shared/enums/category.enum';\r\nimport { SortItems } from 'src/app/shared/ng-select/items';\r\n\r\n\r\n//This is declaring for passing data to datalayer for google analytics\r\ndeclare global {\r\n  interface Window { dataLayer: any[]; }\r\n}\r\n\r\n@Component({\r\n  selector: 'app-category-list',\r\n  templateUrl: './category-list.component.html',\r\n  styleUrls: ['./category-list.component.sass']\r\n})\r\nexport class CategoryListComponent implements OnInit {\r\n\r\n  category: String;\r\n  products: Product[] = [];\r\n  // retailerWiseProducts: any;\r\n\r\n  noOfProductsToShow = 16;\r\n  categorySelect;\r\n  sortItems;\r\n  categoryItems;\r\n  selectedSortItem;\r\n\r\n  constructor(private router: Router,\r\n    private route: ActivatedRoute,private authenticationService: AuthenticationService,\r\n    private productService: ProductService,) { \r\n      this.sortItems = SortItems;\r\n      this.categoryItems = CategoryItems;\r\n     }\r\n\r\n  ngOnInit(): void {\r\n    this.route.params.subscribe(() => {\r\n      //console.log(this.route.snapshot.paramMap.get(\"category\"))\r\n      this.category = this.route.snapshot.paramMap.get(\"category\");\r\n      if(this.category) {\r\n        this.getPrdocutsByCategory();\r\n      } else {\r\n        this.getAllProducts();\r\n      }  \r\n      this.categorySelect = UtilsService.stringEnumToKeyValue(Category);\r\n      //console.log(this.categoryItems)\r\n    });\r\n\r\n    this.route.params.subscribe(() => {\r\n    /*   this.authenticationService.loginStatus().subscribe(res => {\r\n        if(!res) {\r\n          sessionStorage.removeItem('iuli');\r\n          this.router.navigate(['/']);\r\n        }\r\n      }); */\r\n    });\r\n  }\r\n\r\n  getPrdocutsByCategory() {\r\n    //This is for passing data to datalayer for google analytics\r\n    window.dataLayer.push({'CategoryName' : this.category});\r\n    this.products = [];\r\n    this.productService.getProductsByCategory(this.category).subscribe(res => {\r\n      // console.log(res);\r\n      this.products = this.shuffle(res);\r\n      // this.retailerWiseProducts = this.groupBy(this.products, 'retailerType');\r\n      // console.log(this.groupBy(this.products, 'retailerType'));\r\n      this.route.queryParams.pipe().subscribe(params => {\r\n        if(params.pr && params.pr !== '') {\r\n          this.sortProducts('price', params.pr);\r\n          this.selectedSortItem = params.pr; \r\n        } else if(params.av && params.av !== '') {\r\n          this.sortProducts('availability', params.av);\r\n          this.selectedSortItem = params.av;\r\n        }\r\n        \r\n        \r\n      });\r\n    })\r\n  }\r\n \r\n\r\n  categorySelectChange(event) {\r\n    // #GA - If you want to track the category change event\r\n    // this.router.navigateByUrl('/category/' + this.category);\r\n    this.route.queryParams.pipe().subscribe(params => {\r\n      this.router.navigate(['/category/' + this.category], {\r\n        relativeTo: this.route,\r\n        queryParams: params,\r\n        queryParamsHandling: 'merge', // remove to replace all query params by provided\r\n      });\r\n    });\r\n    \r\n  }\r\n\r\n  getAllProducts() {\r\n    \r\n  }\r\n\r\n  // Accepts the array and key\r\n  groupBy(array, key) {\r\n  // Return the end result\r\n  return array.reduce((result, currentValue) => {\r\n    // If an array already present for key, push it to the array. Else create an array and push the object\r\n    (result[currentValue[key]] = result[currentValue[key]] || []).push(\r\n      currentValue\r\n    );\r\n    // Return the current iteration `result` value, this will be taken as next iteration `result` value and accumulate\r\n    return result;\r\n  }, {}); // empty object is the initial value for result object\r\n};\r\n\r\nshuffle(array) {\r\n  var currentIndex = array.length, temporaryValue, randomIndex;\r\n\r\n  // While there remain elements to shuffle...\r\n  while (0 !== currentIndex) {\r\n\r\n    // Pick a remaining element...\r\n    randomIndex = Math.floor(Math.random() * currentIndex);\r\n    currentIndex -= 1;\r\n\r\n    // And swap it with the current element.\r\n    temporaryValue = array[currentIndex];\r\n    array[currentIndex] = array[randomIndex];\r\n    array[randomIndex] = temporaryValue;\r\n  }\r\n\r\n  return array;\r\n}\r\n\r\n  /**\r\n   * \r\n   * @param property Ex: Price\r\n   * @param criteria Ex: l2h - low to high, h2l - high to low\r\n   */\r\n  sortProducts(property: string, criteria: string) {\r\n    this.updateQueryParams(property, criteria);\r\n    if(property == 'price') {\r\n\r\n      if(criteria == 'l2h') {\r\n\r\n        this.products.sort(function(a, b){ return a.cost - b.cost });\r\n\r\n        // Move cost 0 to last\r\n        for (var i = this.products.length-1; i>=0; i--) {\r\n          this.products.forEach((product, index) => {\r\n            if (product.cost == 0) {\r\n              // Move this object to last position in the array\r\n              this.products.push(this.products.splice(index, 1)[0]);\r\n            }\r\n          })\r\n        }\r\n\r\n      } else if(criteria == 'h2l') {\r\n        this.products.sort(function(a, b){ return b.cost - a.cost });\r\n      }\r\n      \r\n    } else if(property == 'availability') {\r\n      if(criteria == 'is') {\r\n\r\n        // Move in stock to first\r\n        this.products.forEach((product, i) => {\r\n          if(product.availability.toString() === \"In_stock\"){\r\n            this.products.splice(i, 1);\r\n            this.products.unshift(product);\r\n          }\r\n        })\r\n\r\n\r\n      }\r\n    }\r\n    \r\n  }\r\n\r\n\r\n  updateQueryParams(property: String, criteria: String) {\r\n    \r\n    if(property === 'price' && criteria === 'l2h') {\r\n          \r\n    } else if(property === 'price' && criteria === 'h2l') {\r\n      \r\n    }\r\n\r\n    const queryParams: Params = {\r\n      pr: property === 'price' ? criteria : '',\r\n      av: property === 'availability' ? criteria : ''\r\n    };\r\n    \r\n    this.router.navigate(['/category/' + this.category], \r\n      {\r\n        relativeTo: this.route,\r\n        queryParams: queryParams, \r\n        queryParamsHandling: 'merge', // remove to replace all query params by provided\r\n      });\r\n  }\r\n\r\n  sortItemChange(event) {\r\n    this.sortProducts(event.type, event.value);\r\n  }\r\n\r\n}\r\n","<!-- <app-header [isHome]=\"false\"></app-header> -->\r\n<!-- Main Body Content Start -->\r\n<main>\r\n  <!-- Search Here -->\r\n  <!-- Browse Section Start -->\r\n  <section class=\"browse pt-4 pb-1\">\r\n    <div class=\"container\">\r\n      <div class=\"row align-items-center\">\r\n        <div class=\"col-sm-12 col-md-12 col-lg-8 mb-1\">\r\n            <h5 class=\"font-weight-normal\">Showing Products In:\r\n              <div class=\"category_box\">\r\n                <ng-select \r\n                  id=\"categoryItems\"\r\n                  [items]=\"categoryItems\"\r\n                  [clearable]=\"false\"\r\n                  [searchable]=\"false\"\r\n                  bindLabel=\"label\"\r\n                  bindValue=\"label\"\r\n                  name=\"category\"\r\n                  [(ngModel)]=\"category\"\r\n                  (change)=\"categorySelectChange($event)\"\r\n                  >\r\n                  <!-- For Search Within Category -->\r\n                  <!-- <ng-template ng-header-tmp>\r\n                    <input style=\"width: 100%; line-height: 24px\" type=\"text\" (input)=\"select.filter($event.target.value)\"/>\r\n                  </ng-template> -->\r\n                  <ng-template ng-label-tmp let-item=\"item\">\r\n                    <img height=\"22\" width=\"22\" src=\"../../../assets/icons/{{item.img}}\"/>\r\n                    <b> {{item.label}}</b>\r\n                  </ng-template>\r\n                  <ng-template ng-option-tmp let-item=\"item\" let-index=\"index\">\r\n                    <img height=\"22\" width=\"22\" src=\"../../../assets/icons/{{item.img}}\"/>\r\n                    {{item.label}}\r\n                  </ng-template>\r\n                  </ng-select>\r\n\r\n              </div>   \r\n            </h5>\r\n        </div>\r\n        <div class=\"col-sm-12 col-md-12 col-lg-4 mb-1\">\r\n          <form action=\"\">\r\n            <div class=\"form-row justify-content-end\">\r\n                <div class=\"form-group col-auto col-md-auto mr-2\">\r\n                  <!-- SortBY Starts -->\r\n                    <label class=\"text-right w-100 mb-0\"><small>Sort By</small></label>\r\n                    <ng-select \r\n                      id=\"sortItems\"\r\n                      [items]=\"sortItems\"\r\n                      [clearable]=\"false\"\r\n                      bindLabel=\"label\"\r\n                      placeholder=\"Sort by\"\r\n                      bindValue=\"value\"\r\n                      name=\"sortItem\"\r\n                      [(ngModel)]=\"selectedSortItem\"\r\n                      (change)=\"sortItemChange($event)\"\r\n                      >\r\n                    </ng-select>\r\n\r\n                    <!-- SortBY Ends -->\r\n                </div>\r\n                <!-- When filter is active add class text-primary in place of text -secondary -->\r\n                <!-- <div class=\"form-group\">\r\n                    \r\n                    <a href=\"javascript:\" class=\"btn btn-outline-light text-secondary\"><i class=\"fas fa-filter\"></i></a>\r\n                </div> -->\r\n            </div>\r\n          </form> \r\n        </div>\r\n         <!-- For The Filter Section -->\r\n        <!-- <div class=\"col-sm-12\">\r\n          <app-product-filter></app-product-filter>\r\n        </div> -->\r\n      </div>\r\n    </div>\r\n  </section>\r\n  \r\n  <!-- Loader -->\r\n  <section class=\"loader\" *ngIf=\"products.length == 0\">\r\n    <div class=\"loader-box\">\r\n        <div class=\"loader_icon\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" id=\"Layer_1\" x=\"0px\" y=\"0px\" viewBox=\"75 75 150 150\" style=\"enable-background:new 0 0 300 300;\" xml:space=\"preserve\" preserveAspectRatio=\"xMidYMid meet\">\r\n                <style type=\"text/css\">\r\n                    .st0{fill:none;stroke:#F26422;stroke-width:6;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;}\r\n                    .st1{fill:#F26422;}\r\n                </style>\r\n                <g>\r\n                    <g>\r\n                        <path class=\"st0 bubble-cart\" d=\"M216.9,110.9H194l-15.2,56c-1.3,4.7-5.5,7.9-10.3,7.9h-49.1c-4.9,0-9.1-3.3-10.3-12.7l-10-38.1h70.8\"/>\r\n                        <circle class=\"st1 bubble-cart\" cx=\"120.4\" cy=\"199\" r=\"8.9\"/>\r\n                        <circle class=\"st1 bubble-cart\" cx=\"169.9\" cy=\"199\" r=\"8.9\"/>\r\n                    </g>\r\n                    <circle class=\"st1 manifest-dot\" cx=\"144.5\" cy=\"83\" r=\"5\"/>\r\n                </g>\r\n            </svg>\r\n        </div>\r\n        <p class=\"lead text-center\">A moment please while we find the products available in {{category}} category.</p>\r\n    </div>\r\n</section>\r\n<!-- Category Skeleton Loader -->\r\n<section class=\"section my-4\" *ngIf=\"products.length == 0\">\r\n  <div class=\"container\">\r\n    <div class=\"row\">\r\n      <!-- Skeleton Loader For Product -->\r\n      <app-product-card-loading class=\"col-sm-12 col-md-6 col-lg-3 mb-3\"></app-product-card-loading>\r\n      <app-product-card-loading class=\"col-sm-12 col-md-6 col-lg-3 mb-3\"></app-product-card-loading>\r\n      <app-product-card-loading class=\"col-sm-12 col-md-6 col-lg-3 mb-3\"></app-product-card-loading>\r\n      <app-product-card-loading class=\"col-sm-12 col-md-6 col-lg-3 mb-3\"></app-product-card-loading>\r\n      <!-- Skeleton Loader For Product End-->\r\n    </div>\r\n  </div>\r\n</section>\r\n\r\n<section class=\"section my-2\">\r\n  <div class=\"container\">\r\n    <div class=\"row\">\r\n      <div class=\"col-sm-12 col-md-6 col-lg-4 col-xl-3 mb-3\" *ngFor=\"let product of products | slice:0:noOfProductsToShow let i=index\">\r\n        <app-product-card  [product]=\"product\" [page]=\"'category-list'\" ></app-product-card>\r\n      </div>\r\n      <div class=\"col-sm-12\">\r\n        <div class=\"text-center mt-4 loadmore\">\r\n          <button *ngIf=\"noOfProductsToShow < products.length\" class=\"btn btn-md btn-secondary showMoreButton\" (click)=\"noOfProductsToShow = noOfProductsToShow + noOfProductsToShow\">VIEW MORE</button>\r\n        </div>\r\n    </div>\r\n    </div>\r\n  </div>\r\n</section>\r\n\r\n  <!-- Product Slider Start -->\r\n  \r\n  <!-- Browse Section End -->\r\n\r\n  <!-- <a href=\"javascript:\" [routerLink]=\"['/']\">Go to Home</a> -->\r\n</main>\r\n<!-- Main Body Content End -->\r\n<!-- <app-footer></app-footer> -->\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { CategoryListComponent } from './category-list/category-list.component';\r\n\r\nconst routes: Routes = [\r\n\r\n  { path: '', component: CategoryListComponent },\r\n  { path: ':category', component: CategoryListComponent },\r\n\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class CategoryRoutingModule { }","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CategoryRoutingModule } from './category-routing.module';\r\nimport { CategoryListComponent } from './category-list/category-list.component';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\nimport { BsDropdownModule } from 'ngx-bootstrap/dropdown';\r\nimport { ProgressbarModule } from 'ngx-bootstrap/progressbar';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    CategoryListComponent,\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    NgSelectModule,\r\n    ReactiveFormsModule.withConfig({warnOnNgModelWithFormControl: 'never'}),\r\n    CategoryRoutingModule,\r\n    SharedModule,\r\n    BsDropdownModule.forRoot(),\r\n    ProgressbarModule.forRoot()\r\n  ]\r\n})\r\nexport class CategoryModule { }\r\n","import { ActivatedRoute, Router, Params } from '@angular/router';\r\n\r\nexport default class UtilsService {\r\n\r\n    static stringEnumToKeyValue(stringEnum) {\r\n        const keyValue = [];\r\n        const keys = Object.keys(stringEnum).filter((value, index) => {\r\n            return !(index % 2);\r\n        });\r\n\r\n        for (const k of keys) {\r\n            keyValue.push({key: k, value: stringEnum[k]});\r\n        }\r\n\r\n        return keyValue;\r\n    }\r\n\r\n    static updateQueryParams(router: Router, route: ActivatedRoute, queryParams: Params) {\r\n        router.navigate([], \r\n          {\r\n            relativeTo: route,\r\n            queryParams: queryParams, \r\n            queryParamsHandling: 'merge', // remove to replace all query params by provided\r\n          });\r\n    }\r\n\r\n}"],"sourceRoot":"webpack:///"}